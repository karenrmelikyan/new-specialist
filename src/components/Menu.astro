---
const { ENV } = Astro.props
---
<style>
    /* MEGA MENU */
    .mega {
        position: fixed;
        top: 80px;
        width: var(--main-container-width);

        box-shadow:
            0 30px 60px rgba(0, 0, 0, 0.18),
            0 10px 20px rgba(0, 0, 0, 0.12);

        display: grid;
        grid-template-columns: 260px 1fr;
        background: var(--main-background-color);
        border-radius: 0 0 24px 24px;
        gap: 40px;

        max-height: 0;
        opacity: 0;
        overflow: hidden;
        transform: translateY(-10px);
        transition: all 0.25s ease;
        z-index: 998;
    }

    .mega.is-open {
        max-height: 1200px;
        opacity: 1;
        transform: translateY(0);
    }

    /* SIDEBAR */
    .sidebar {
        list-style: none;
        padding: 0;
        margin: 0;
    }

    .sidebar li {
        padding: 12px 16px;
        border-radius: 12px;
        cursor: pointer;
        color: var(--main-font-color);
        font-weight: 500;
    }

    .sidebar li:hover {
        background: var(--main-font-hover);
    }

    .sidebar li.active {
        background: var(--main-font-hover);
        font-weight: 600;
    }

    .mega__content {
        overflow-y: auto;
        padding: 32px;
    }

    .mega-title {
        font-size: 32px;
        margin-bottom: 32px;
        color: var(--main-font-color);
        font-weight: var(--font-weight);
    }

    .column-title {
        font-size: 20px;
        margin-bottom: 16px;
        color: var(--main-font-color);
        font-weight: var(--font-weight);
    }

    .columns {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 48px;
    }

    .column ul {
        list-style: none;
        padding: 0;
        margin: 0;
    }

    .column li {
        padding: 6px 0;
        color: var(--main-font-color);
        cursor: pointer;
    }

    .column li:hover {
        text-decoration: underline;
    }

    /* PANELS */
    .panel {
        display: none;
    }

    .panel.active {
        display: block;
    }
</style>

<section class="mega" data-mega-menu>
    <!-- LEFT SIDEBAR -->
    <ul class="sidebar" data-sidebar>
        <li class="active" data-category="repair">üì± –†–µ–º–æ–Ω—Ç —Ç–µ—Ö–Ω–∏–∫–∏</li>
        <li data-category="services">üõ† –ë—ã—Ç–æ–≤—ã–µ —É—Å–ª—É–≥–∏</li>
        <li data-category="electric">‚ö° –≠–ª–µ–∫—Ç—Ä–∏–∫–∞</li>
        <li data-category="plumbing">üöø –°–∞–Ω—Ç–µ—Ö–Ω–∏–∫–∞</li>
    </ul>

    <!-- RIGHT CONTENT -->
    <div class="mega__content">
        <!-- PANEL: –†–ï–ú–û–ù–¢ –¢–ï–•–ù–ò–ö–ò -->
        <div class="panel active" data-panel="repair">
            <div class="mega-title" role="heading" aria-level="2">–†–µ–º–æ–Ω—Ç —Ç–µ—Ö–Ω–∏–∫–∏</div>
            <div class="columns">
                <div class="column">
                    <div class="column-title" role="heading" aria-level="3">–†–µ–º–æ–Ω—Ç –±—ã—Ç–æ–≤–æ–π —Ç–µ—Ö–Ω–∏–∫–∏</div>
                    <ul>
                        <li>–†–µ–º–æ–Ω—Ç —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫–æ–≤</li>
                        <li>–†–µ–º–æ–Ω—Ç —Ö–æ–ª–æ–¥–∏–ª—å–Ω–æ–≥–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è</li>
                        <li>–†–µ–º–æ–Ω—Ç —Å—Ç–∏—Ä–∞–ª—å–Ω—ã—Ö –º–∞—à–∏–Ω</li>
                        <li>–†–µ–º–æ–Ω—Ç —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏—Ö –ø–ª–∏—Ç</li>
                        <li>–†–µ–º–æ–Ω—Ç –≥–∞–∑–æ–≤—ã—Ö –ø–ª–∏—Ç</li>
                        <li>–†–µ–º–æ–Ω—Ç —Ç–µ–ª–µ–≤–∏–∑–æ—Ä–æ–≤</li>
                    </ul>
                </div>

                <div class="column">
                    <div class="column-title" role="heading" aria-level="3">–†–µ–º–æ–Ω—Ç —Ü–∏—Ñ—Ä–æ–≤–æ–π —Ç–µ—Ö–Ω–∏–∫–∏</div>
                    <ul>
                        <li>–†–µ–º–æ–Ω—Ç —Ç–µ–ª–µ–≤–∏–∑–æ—Ä–æ–≤</li>
                        <li>–†–µ–º–æ–Ω—Ç –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–≤</li>
                        <li>–†–µ–º–æ–Ω—Ç –Ω–æ—É—Ç–±—É–∫–æ–≤</li>
                        <li>–†–µ–º–æ–Ω—Ç –º–æ–Ω–æ–±–ª–æ–∫–æ–≤</li>
                        <li>–†–µ–º–æ–Ω—Ç –ø–ª–∞–Ω—à–µ—Ç–æ–≤</li>
                        <li>–†–µ–º–æ–Ω—Ç —Å–º–∞—Ä—Ç—Ñ–æ–Ω–æ–≤</li>
                    </ul>
                </div>

                <div class="column">
                    <div class="column-title" role="heading" aria-level="3">–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –±—ã—Ç–æ–≤–æ–π —Ç–µ—Ö–Ω–∏–∫–∏</div>
                    <ul>
                        <li>–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫–æ–≤</li>
                        <li>–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å—Ç–∏—Ä–∞–ª—å–Ω—ã—Ö –º–∞—à–∏–Ω</li>
                        <li>–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–æ—Å—É–¥–æ–º–æ–µ—á–Ω—ã—Ö –º–∞—à–∏–Ω</li>
                        <li>–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å—É—à–∏–ª—å–Ω—ã—Ö –º–∞—à–∏–Ω</li>
                        <li>–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≥–∞–∑–æ–≤—ã—Ö –ø–ª–∏—Ç</li>
                        <li>–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏—Ö –ø–ª–∏—Ç</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- PANEL: –ë–´–¢–û–í–´–ï –£–°–õ–£–ì–ò -->
        <div class="panel" data-panel="services">
            <div class="mega-title" role="heading" aria-level="2">–ë—ã—Ç–æ–≤—ã–µ —É—Å–ª—É–≥–∏</div>
            <div class="columns">
                <div class="column">
                    <div class="column-title" role="heading" aria-level="3">–†–µ–º–æ–Ω—Ç –±—ã—Ç–æ–≤–æ–π —Ç–µ—Ö–Ω–∏–∫–∏</div>
                    <ul>
                        <li>–†–µ–º–æ–Ω—Ç —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫–æ–≤</li>
                        <li>–†–µ–º–æ–Ω—Ç —Ö–æ–ª–æ–¥–∏–ª—å–Ω–æ–≥–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è</li>
                        <li>–†–µ–º–æ–Ω—Ç —Å—Ç–∏—Ä–∞–ª—å–Ω—ã—Ö –º–∞—à–∏–Ω</li>
                        <li>–†–µ–º–æ–Ω—Ç —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏—Ö –ø–ª–∏—Ç</li>
                        <li>–†–µ–º–æ–Ω—Ç –≥–∞–∑–æ–≤—ã—Ö –ø–ª–∏—Ç</li>
                        <li>–†–µ–º–æ–Ω—Ç —Ç–µ–ª–µ–≤–∏–∑–æ—Ä–æ–≤</li>
                    </ul>
                </div>

                <div class="column">
                    <div class="column-title" role="heading" aria-level="3">–†–µ–º–æ–Ω—Ç —Ü–∏—Ñ—Ä–æ–≤–æ–π —Ç–µ—Ö–Ω–∏–∫–∏</div>
                    <ul>
                        <li>–†–µ–º–æ–Ω—Ç —Ç–µ–ª–µ–≤–∏–∑–æ—Ä–æ–≤</li>
                        <li>–†–µ–º–æ–Ω—Ç –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–≤</li>
                        <li>–†–µ–º–æ–Ω—Ç –Ω–æ—É—Ç–±—É–∫–æ–≤</li>
                        <li>–†–µ–º–æ–Ω—Ç –º–æ–Ω–æ–±–ª–æ–∫–æ–≤</li>
                        <li>–†–µ–º–æ–Ω—Ç –ø–ª–∞–Ω—à–µ—Ç–æ–≤</li>
                        <li>–†–µ–º–æ–Ω—Ç —Å–º–∞—Ä—Ç—Ñ–æ–Ω–æ–≤</li>
                    </ul>
                </div>

                <div class="column">
                    <div class="column-title" role="heading" aria-level="3">–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –±—ã—Ç–æ–≤–æ–π —Ç–µ—Ö–Ω–∏–∫–∏</div>
                    <ul>
                        <li>–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫–æ–≤</li>
                        <li>–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å—Ç–∏—Ä–∞–ª—å–Ω—ã—Ö –º–∞—à–∏–Ω</li>
                        <li>–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–æ—Å—É–¥–æ–º–æ–µ—á–Ω—ã—Ö –º–∞—à–∏–Ω</li>
                        <li>–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å—É—à–∏–ª—å–Ω—ã—Ö –º–∞—à–∏–Ω</li>
                        <li>–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≥–∞–∑–æ–≤—ã—Ö –ø–ª–∏—Ç</li>
                        <li>–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏—Ö –ø–ª–∏—Ç</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- PANEL: –≠–õ–ï–ö–¢–†–ò–ö–ê -->
        <div class="panel" data-panel="electric">
            <div class="mega-title" role="heading" aria-level="2">–≠–ª–µ–∫—Ç—Ä–∏–∫–∞</div>
            <div class="columns">
                <div class="column">
                    <div class="column-title" role="heading" aria-level="3">–†–µ–º–æ–Ω—Ç –±—ã—Ç–æ–≤–æ–π —Ç–µ—Ö–Ω–∏–∫–∏</div>
                    <ul>
                        <li>–†–µ–º–æ–Ω—Ç —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫–æ–≤</li>
                        <li>–†–µ–º–æ–Ω—Ç —Ö–æ–ª–æ–¥–∏–ª—å–Ω–æ–≥–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è</li>
                        <li>–†–µ–º–æ–Ω—Ç —Å—Ç–∏—Ä–∞–ª—å–Ω—ã—Ö –º–∞—à–∏–Ω</li>
                        <li>–†–µ–º–æ–Ω—Ç —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏—Ö –ø–ª–∏—Ç</li>
                        <li>–†–µ–º–æ–Ω—Ç –≥–∞–∑–æ–≤—ã—Ö –ø–ª–∏—Ç</li>
                        <li>–†–µ–º–æ–Ω—Ç —Ç–µ–ª–µ–≤–∏–∑–æ—Ä–æ–≤</li>
                    </ul>
                </div>

                <div class="column">
                    <div class="column-title" role="heading" aria-level="3">–†–µ–º–æ–Ω—Ç —Ü–∏—Ñ—Ä–æ–≤–æ–π —Ç–µ—Ö–Ω–∏–∫–∏</div>
                    <ul>
                        <li>–†–µ–º–æ–Ω—Ç —Ç–µ–ª–µ–≤–∏–∑–æ—Ä–æ–≤</li>
                        <li>–†–µ–º–æ–Ω—Ç –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–≤</li>
                        <li>–†–µ–º–æ–Ω—Ç –Ω–æ—É—Ç–±—É–∫–æ–≤</li>
                        <li>–†–µ–º–æ–Ω—Ç –º–æ–Ω–æ–±–ª–æ–∫–æ–≤</li>
                        <li>–†–µ–º–æ–Ω—Ç –ø–ª–∞–Ω—à–µ—Ç–æ–≤</li>
                        <li>–†–µ–º–æ–Ω—Ç —Å–º–∞—Ä—Ç—Ñ–æ–Ω–æ–≤</li>
                    </ul>
                </div>

                <div class="column">
                    <div class="column-title" role="heading" aria-level="3">–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –±—ã—Ç–æ–≤–æ–π —Ç–µ—Ö–Ω–∏–∫–∏</div>
                    <ul>
                        <li>–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫–æ–≤</li>
                        <li>–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å—Ç–∏—Ä–∞–ª—å–Ω—ã—Ö –º–∞—à–∏–Ω</li>
                        <li>–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–æ—Å—É–¥–æ–º–æ–µ—á–Ω—ã—Ö –º–∞—à–∏–Ω</li>
                        <li>–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å—É—à–∏–ª—å–Ω—ã—Ö –º–∞—à–∏–Ω</li>
                        <li>–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≥–∞–∑–æ–≤—ã—Ö –ø–ª–∏—Ç</li>
                        <li>–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏—Ö –ø–ª–∏—Ç</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- PANEL: –°–ê–ù–¢–ï–•–ù–ò–ö–ê -->
        <div class="panel" data-panel="plumbing">
            <div class="mega-title" role="heading" aria-level="2">–°–∞–Ω—Ç–µ—Ö–Ω–∏–∫–∞</div>
            <div class="columns">
                <div class="column">
                    <div class="column-title" role="heading" aria-level="3">–†–µ–º–æ–Ω—Ç –±—ã—Ç–æ–≤–æ–π —Ç–µ—Ö–Ω–∏–∫–∏</div>
                    <ul>
                        <li>–†–µ–º–æ–Ω—Ç —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫–æ–≤</li>
                        <li>–†–µ–º–æ–Ω—Ç —Ö–æ–ª–æ–¥–∏–ª—å–Ω–æ–≥–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è</li>
                        <li>–†–µ–º–æ–Ω—Ç —Å—Ç–∏—Ä–∞–ª—å–Ω—ã—Ö –º–∞—à–∏–Ω</li>
                        <li>–†–µ–º–æ–Ω—Ç —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏—Ö –ø–ª–∏—Ç</li>
                        <li>–†–µ–º–æ–Ω—Ç –≥–∞–∑–æ–≤—ã—Ö –ø–ª–∏—Ç</li>
                        <li>–†–µ–º–æ–Ω—Ç —Ç–µ–ª–µ–≤–∏–∑–æ—Ä–æ–≤</li>
                    </ul>
                </div>

                <div class="column">
                    <div class="column-title" role="heading" aria-level="3">–†–µ–º–æ–Ω—Ç —Ü–∏—Ñ—Ä–æ–≤–æ–π —Ç–µ—Ö–Ω–∏–∫–∏</div>
                    <ul>
                        <li>–†–µ–º–æ–Ω—Ç —Ç–µ–ª–µ–≤–∏–∑–æ—Ä–æ–≤</li>
                        <li>–†–µ–º–æ–Ω—Ç –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–≤</li>
                        <li>–†–µ–º–æ–Ω—Ç –Ω–æ—É—Ç–±—É–∫–æ–≤</li>
                        <li>–†–µ–º–æ–Ω—Ç –º–æ–Ω–æ–±–ª–æ–∫–æ–≤</li>
                        <li>–†–µ–º–æ–Ω—Ç –ø–ª–∞–Ω—à–µ—Ç–æ–≤</li>
                        <li>–†–µ–º–æ–Ω—Ç —Å–º–∞—Ä—Ç—Ñ–æ–Ω–æ–≤</li>
                    </ul>
                </div>

                <div class="column">
                    <div class="column-title" role="heading" aria-level="3">–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –±—ã—Ç–æ–≤–æ–π —Ç–µ—Ö–Ω–∏–∫–∏</div>
                    <ul>
                        <li>–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫–æ–≤</li>
                        <li>–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å—Ç–∏—Ä–∞–ª—å–Ω—ã—Ö –º–∞—à–∏–Ω</li>
                        <li>–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–æ—Å—É–¥–æ–º–æ–µ—á–Ω—ã—Ö –º–∞—à–∏–Ω</li>
                        <li>–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å—É—à–∏–ª—å–Ω—ã—Ö –º–∞—à–∏–Ω</li>
                        <li>–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≥–∞–∑–æ–≤—ã—Ö –ø–ª–∏—Ç</li>
                        <li>–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏—Ö –ø–ª–∏—Ç</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</section>

<script>
const sidebarItems = document.querySelectorAll<HTMLElement>('[data-category]')
const panels = document.querySelectorAll<HTMLElement>('[data-panel]')

sidebarItems.forEach(item => {
    item.addEventListener('click', () => {
        const category = item.dataset.category

        sidebarItems.forEach(i => i.classList.remove('active'))
        item.classList.add('active')

        panels.forEach(panel => {
            panel.classList.toggle(
                'active',
                panel.dataset.panel === category
            )
        })
    })
})

const btn = document.querySelector('[data-menu-toggle]') as HTMLElement
const menu = document.querySelector('[data-mega-menu]') as HTMLElement

btn.addEventListener('click', () => {
    menu.classList.toggle('is-open')
    btn.classList.toggle('is-open')
})
</script>
