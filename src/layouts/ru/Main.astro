---
import '../../assets/css/main.css'
import ENV from '../../content/ru/env.json'
import Banner from '../../components/Banner.astro'
import ServicesGrid from '../../components/ServicesGrid.astro'
import Benefits from '../../components/Benefits.astro'
import Reviews from '../../components/Reviews.astro'
import Location from '../../components/Location.astro'
import Time from '../../components/Time.astro'
import Menu from '../../components/Menu.astro'
import MobMenu from '../../components/MobMenu.astro'
import Modal from '../../components/Modal.astro'
import ScrollUpBtn from '../../components/ScrollUpBtn.astro'

const { title = null, description = null, jsonLd = null } = Astro.props
const canonicalUrl = Astro.url.pathname === '/' ? Astro.url.origin : Astro.url.href
---

<!DOCTYPE html>
<html lang="ru">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="robots" content="index, follow">
        <meta name="description" content={description} />
        <link rel="canonical" href={canonicalUrl} />
        <link rel="icon" type="image/png" href="/assets/img/favicon.webp">
        <title>{title}</title>

        {Array.isArray(jsonLd) &&
            jsonLd.map(item => (
                <script type="application/ld+json" set:html={JSON.stringify(item)} is:inline />
            ))
        }
    </head>
    <body>
        <!-- HEADER -->
        <headers class="header">
            <div class="container header-inner">
                <!-- LEFT SIDE -->
                <div class="header-left">
                    <a href={ENV.HOST} class="logo">
                        <img 
                            id="image"
                            data-src="/assets/img/logo.webp"
                            alt="Specialist Logo Yerevan"
                            title={ENV.HOST}
                        />
                    </a>

                    <button class="menu-button" data-menu-toggle>
                        Все страницы
                        <span class="arrow" aria-hidden="true"></span>
                    </button>
                </div>

                <!-- RIGHT SIDE -->
                <div class="header-right">
                    <Location label="Ереван" />
                    <Time label="09–21" />
                    
                    <div class="header-phone" title="Call us">
                        <span class="header-phone-number">374 (93) 31-64-61</span>
                    </div>
                    <div class="header-phone">
                        <a href=`tel:${ENV.PHONE}`>
                            <img 
                                id="image"
                                data-src="/assets/img/phone-call.webp" 
                                alt="Call Us | Specialist Yerevan"
                                title="Call us"
                            />
                        </a>
                    </div>
                    <button class="btn-small" onclick="openModal()">
                        Вызвать мастера
                    </button>
                </div>
            </div>
        </headers>

        <main>
            <div class="container">
                <slot /> <!-- Main Page Content -->

                <Banner 
                    title = 'Вызовите мастера в пару кликов!' 
                    description = 'Напишите нам в WhatsApp, убедитесь что мы всегда на связи и получите консультацию или оставьте заявку! ' 
                    background = 'chat' 
                    btnInscription = 'Написать в чат' 
                    picURL = '/assets/img/chat-preview.webp' 
                    url = {ENV.WHATSAPP_URL}
                />
                <div class="offset"></div>
                <div class="offset"></div>
                <ServicesGrid />
                <div class="offset"></div>
                <div class="offset"></div>
                <Banner 
                    title = 'Почему выбирают наш сервис?' 
                    description = 'Более 20 лет мы оказываем качественные услуги по ремонту бытовой техники!' 
                    background = 'benefits' 
                    btnInscription = 'О Компании' 
                    picURL = '/assets/img/benefits-preview.webp' 
                    url = 'Go to About'
                />
                <div class="offset"></div>
                <div class="offset"></div>
                <Benefits />
                <div class="offset"></div>
                <div class="offset"></div>
                <Banner 
                    title = 'Нас вдохновляют отзывы заказчиков!' 
                    description = 'Именно они - реальный результат нашей работы и показывают, что мы движемся в правильном направлении!' 
                    background = 'benefits' 
                    btnInscription = 'Оставить отзыв' 
                    picURL = '/assets/img/reviews-preview.webp' 
                    url = {ENV.GOOGLE_REVIEWS_URL}
                />
                <div class="offset"></div>
                <div class="offset"></div>
                <Reviews ENV={ENV}, localization='ru' />
                <div class="offset"></div>
                <div class="offset"></div>
            </div> 
        </main>

        <!-- FOOTER -->
        <footer class="site-footer">
            <div class="container footer-top">
                <div class="footer-column">
                    <h4>Услуги</h4>
                    <ul>
                        <li>Ремонт бытовой техники</li>
                        <li>Ремонт холодильников</li>
                        <li>Ремонт стиральных машин</li>
                        <li>Ремонт газовых плит</li>
                        <li>Ремонт электроплит</li>
                        <li>Ремонт цифровой техники</li>
                        <li>Ремонт электрики</li>
                        <li>Ремонт сантехники</li>
                        <li>Услуги мастера на час</li>
                    </ul>
                </div>

                <div class="footer-column">
                    <h4>Клиентам</h4>
                    <ul>
                        <li>Рекламное агентство</li>
                        <li>Ремонтная компания</li>
                        <li>Ремонт квартир</li>
                        <li>Косметический ремонт</li>
                        <li>Евроремонт квартир</li>
                        <li>Ремонт квартиры-студии</li>
                        <li>Черновая отделка квартир</li>
                        <li>Чистовая отделка квартир</li>
                    </ul>
                </div>

                <div class="footer-column">
                    <h4>Общее</h4>
                    <ul>
                        <li>Обучающие курсы для мастеров</li>
                        <li>Карта сайта</li>
                        <li>Компания</li>
                        <li>Контакты</li>
                        <li>FAQ</li>
                        <li>Блог</li>
                    </ul>
                </div>

                <div class="footer-column footer-right">
                    <a href={ENV.HOST}>
                        <img 
                            id="image" 
                            data-src="/assets/img/logo.webp" 
                            class="footer-logo" 
                            alt="Specialist Yerevan" 
                            title={ENV.HOST}
                        >
                    </a>
                    
                    <p>© 2004 – <span id="year"></span> Сервисный Центр «Specialist»</p>
                    <p>ООО "Техносервис"</p>
                    <p>{ENV.POSTAL_CODE}, г. {ENV.LOCALITY}, {ENV.STREET_ADDRESS}</p>
                    <p>ИНН 9715300665</p>
                    <p>ОГРН 1177746409720</p>
                    <div class="social-icons">
                        <a href={ENV.WHATSAPP_URL}><img id="image" data-src="/assets/img/whatsapp.png" alt="WhatsApp Specialist Yerevan" title="WhatsApp"/></a>
                        <a href={ENV.TELEGRAM_URL}><img id="image" data-src="/assets/img/telegram.png" alt="Telegram Specialist Yerevan" title="Telegram"/></a>
                    </div>
                </div>
            </div>

            <div class="container footer-bottom">
                <p>Есть вопросы? Звоните: <a href=`tel:${ENV.PHONE}`>374 (93) 316461 </a> или пишите <a href="mailto:specialist-yerevan@gmail.com">specialist-yerevan@gmail.com</a></p>
                <p>Режим работы: пн–вс 09:00–21:00</p>
                <p class="disclaimer">Вся представленная на сайте информация, касающаяся сроков, стоимости и порядка предоставления услуг, носит информационный характер и ни при каких условиях не является публичной офертой, определяемой положениями Статьи 437(2) Гражданского кодекса РА.</p>
                <p class="note">* Некоторые виды работ могут быть выполнены подрядными организациями</p>
            </div>
        </footer>

        <Menu />
        <MobMenu />
        <Modal 
            title = 'Нужен ремонт?',
            subTitle = 'Оставьте заявку, мы с Вами свяжемся',
            inputName = 'Имя',
            inputPhone = 'Телефон*',
            inputCode = 'Код*',
            captchaText = 'Введите код с картинки',
            captchaAgreeText = 'Я даю согласие на обработку',
            captchaAgreeHrefText = 'персональных данных',
            captchaAgreeHref = '#',
            btnText = 'Отправить',
        />
        <ScrollUpBtn />

        <!-- Loader -->
        <div id="loader" style="display: none;">
            <div class="loader-overlay">
                  <div class="spinner"></div>
            </div>
        </div>

        <script src="/js/main.js" is:inline></script>
    </body>
</html>